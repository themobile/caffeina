<ion-view title="agenda" ng-init="init()" ng-controller="home"><ion-content padding="false" scroll="false" class="padding-horizontal"><ion-slide-box show-pager="false" delegate-handle="calendar_slider"><!--calendar slide--><ion-slide><ion-content padding="false" scroll="false"><calendar view="date" max-view="year" min-view="date" event-service="CalendarEvents" data-prevent-default="false" class="eventCalendar"></calendar></ion-content></ion-slide><!--events for current month slide--><ion-slide><ion-content padding="false" scroll="true"><div class="row screenHeader"><div class="col screenTitle">{{currentMonthYear |date:"yyyy | MMMM" | lowercase }}<!--b.small *{{events.length}} events--></div></div><div class="row row_empty_for_balance"><div ng-if="events.length==0" class="col">no events for this month</div><div ng-if="events.length!=0" class="col">{{events.length}} events this month</div></div><ion-list style="height:80%" class="screenDetail"><!--list events, those in the clicked day are marked with isCurrent--><ion-item ng-repeat="event in events" ng-class="{isCurrent:event.isCurrent}" ng-click="viewTask(event.id)" class="listTasks"><a href="" class="item item-icon-left"><i class="icon"><p ng-style="{'background':event.color, 'color':'white','border-color':event.color}" class="iconLikeFirstLetters">{{event.jobObject.type.name | firstletters}}</p></i><p class="small">{{event.date | date: 'd MMM yyyy, h:mm'}} | {{event.jobObject.type.name}}</p><h4> <strong> {{event.name}} </strong> with {{event.jobObject.contactObject.name}}</h4></a></ion-item></ion-list></ion-content></ion-slide><!--selected event slide description--><ion-slide><ion-content padding="false" scroll="true"><div class="row screenHeader"><!--i.iconLikeFirstLetters(ng-style="{'color':selectedEvent.color, 'border-color':selectedEvent.color}") {{selectedEvent.jobObject.type | firstletters}}--><div ng-if="selectedEvent.name" class="col screenTitle">{{selectedEvent.date |date:"yyyy | MMMM dd" | lowercase }}<div class="icon ion-clock height0">&nbsp{{selectedEvent.date | date: "HH:mm"}}</div></div><div ng-if="!selectedEvent.name" class="col screenTitle">{{currentMonthYear |date:"yyyy | MMMM" | lowercase }}</div></div><div class="row row_empty_for_balance"><div ng-if="!selectedEvent.date" class="col">no event selected</div><div ng-if="selectedEvent.date" class="col">{{selectedEvent.jobObject.type.name}} | {{selectedEvent.name}}</div></div><div ng-if="selectedEvent.date"><div class="row"><div class="col col-20 strong">who:</div><div class="col col-80">{{selectedEvent.jobObject.contactObject.name}}</div></div><div class="row"><div class="col col-20 strong">where:</div><div class="col col-80">{{selectedEvent.location}}</div></div></div></ion-content></ion-slide></ion-slide-box></ion-content></ion-view>