<ion-view title="agenda" ng-init="init()" ng-controller="home"><ion-content padding="false" scroll="false" class="padding-horizontal"><ion-slide-box show-pager="false" delegate-handle="calendar_slider"><!--calendar slide--><ion-slide><ion-content padding="false" scroll="false"><calendar view="date" max-view="year" min-view="date" event-service="CalendarEvents" data-prevent-default="false" class="eventCalendar"></calendar></ion-content></ion-slide><!--events for current month slide--><ion-slide><ion-content padding="false" scroll="true"><div class="row screenHeader"><div class="col screenTitle">{{currentMonthYear |date:"yyyy | MMMM" | lowercase }}<!--b.small *{{events.length}} events--></div></div><div class="row row_empty_for_balance"><div ng-if="events.length==0" class="col">no events for this month</div><div ng-if="events.length!=0" class="col">{{events.length}} events this month</div></div><ion-list style="height:80%" class="screenDetail"><!--list events, those in the clicked day are marked with isCurrent--><ion-item ng-repeat="event in events" ng-class="{isCurrent:event.isCurrent}" ng-click="viewTask(event.id)" class="listTasks"><a href="" class="item item-icon-left"><i class="icon"><p ng-style="{'background':event.jobObject.type.color, 'color':'white','border-color':event.jobObject.type.color}" class="iconLikeFirstLetters">{{event.jobObject.type.name | firstletters}}</p></i><p class="small">{{event.date | date: 'd MMM yyyy, h:mm'}} | {{event.jobObject.type.name}}</p><h4> <strong> {{event.name}} </strong> with {{event.jobObject.contactObject.name}}</h4></a></ion-item></ion-list></ion-content></ion-slide><!--selected event slide description--><ion-slide><ion-content padding="false" scroll="true"><div class="row screenHeader"><!--i.iconLikeFirstLetters(ng-style="{'color':selectedEvent.color, 'border-color':selectedEvent.color}") {{selectedEvent.jobObject.type | firstletters}}--><div ng-if="selectedEvent.name" class="col screenTitle">{{selectedEvent.date |date:"yyyy | MMMM dd" | lowercase }}<div class="icon ion-clock height0">&nbsp{{selectedEvent.date | date: "HH:mm"}}</div></div><div ng-if="!selectedEvent.name" class="col screenTitle">{{currentMonthYear |date:"yyyy | MMMM" | lowercase }}</div></div><div class="row row_empty_for_balance"><div ng-if="!selectedEvent.date" class="col">no event selected</div><div ng-if="selectedEvent.date" class="col"><strong>todo:</strong>&nbsp{{selectedEvent.name}}</div></div><div ng-if="selectedEvent.date" class="padding-horizontal"><div class="icon ion-ios7-person">&nbsp&nbsp{{selectedEvent.jobObject.contactObject.name}}</div><div ng-if="selectedEvent.location" class="icon ion-ios7-location">&nbsp&nbsp{{selectedEvent.location}}</div><div ng-if="selectedEvent.notes" class="icon ion-ios7-information">&nbsp&nbsp{{selectedEvent.notes}}</div><div class="row row_empty_for_balance"></div><div ng-style="{'float':'left','background':selectedEvent.jobObject.type.color, 'color':'white','border-color':selectedEvent.jobObject.type.color}" class="iconLikeFirstLetters">{{selectedEvent.jobObject.type.name | firstletters}}</div><span class="aftericonLikeFirstLetters"><strong>job type:</strong>&nbsp{{selectedEvent.jobObject.type.name}}</span><div class="padding-top"></div><div class="padding-top icon ion-ios7-calendar">&nbsp&nbsp{{selectedEvent.jobObject.date | date:'yyyy | MMMM dd' | lowercase}}</div><div ng-if="selectedEvent.jobObject.details.location" class="padding-top icon ion-ios7-location">&nbsp&nbsp{{selectedEvent.jobObject.details.location}}</div><div ng-if="selectedEvent.jobObject.details.price" class="padding-top icon ion-ios7-pricetag">&nbsp&nbsp{{selectedEvent.jobObject.details.price}}&nbspEUR</div><div ng-if="selectedEvent.jobObject.notes" class="padding-top icon ion-ios7-information">&nbsp&nbsp{{selectedEvent.jobObject.notes}}</div><div ng-if="selectedEvent.jobObject.allDay" class="padding-top icon ion-ios7-clock">&nbsp&nbsp<strong>it takes all day</strong></div><div ng-if="selectedEvent.jobObject.isBooked" class="padding-top icon ion-ios7-briefcase">&nbsp&nbsp<strong>job is booked. congrats!</strong></div><div ng-if="!selectedEvent.jobObject.isBooked" class="padding-top icon ion-ios7-briefcase">&nbsp&nbsp<strong>job is not booked yet! Why?</strong></div><div ng-if="!selectedEvent.jobObject.isBooked" class="button-bar"><a class="button button-clear">Book this job</a></div></div></ion-content></ion-slide></ion-slide-box></ion-content></ion-view>